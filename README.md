# Проект YaMDb 

## Описание
Проект **YaMDb** содержит информацию о разного рода произведениях, их годе выпуска, жанре, категории (фильм, книга, музыка и т.д.)

Любой авторизованный пользователь может поделиться своими впечатлениями о произведении, оставив отзыв и поставив оценку по шкале от 1 до 10. Средняя оценка и полный список отзывов отображаются в карточке каждого произведения.

Авторизованные пользователи также могут комментировать свои и чужие отзывы.

Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку. 

## Пользовательские роли
В рамках проекта предусмотрены следующие пользовательские роли:

**Аноним** — может просматривать описания произведений, читать отзывы и комментарии.

**Аутентифицированный пользователь (user)** — может не только читать информацию о произведениях, но и публиковать отзывы и ставить оценки произведениям, комментировать. Он также может редактировать и удалять свои отзывы и комментарии, редактировать свои оценки произведений. Эта роль присваивается по умолчанию каждому новому пользователю.

**Модератор (moderator)** — в дополнение к правам Аутентифицированного пользователя имеет право удалять и редактировать любые отзывы и комментарии.

**Администратор (admin)** — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.


## Технологии
* Python 3.7
* Django 2.2.16
* Django Rest Framework 3.12.4
* Postgres
* Docker
* Git


## Как запустить проект

1. Склонируйте репозиторий и создайте .env файл в директории infra/.
В файле должны быть указаны перечисленные ниже переменные:
```
SECRET_KEY             # секретный ключ
DB_ENGINE=django.db.backends.postgresql
DB_NAME=               # имя базы данных
POSTGRES_USER=         # логин для подключения к базе данных
POSTGRES_PASSWORD=     # пароль
DB_HOST=db             # название сервиса (контейнера)
DB_PORT=5432           # порт для подключения к БД
```

2. Создайте и активируйте виртуальное окружение:
```
python -m venv venv
source venv/bin/activate
python -m pip install --upgrade pip
pip install -r api_yamdb/requirements.txt
```

3. Соберите образы и создайте контейнеры базы данных, nginx и web-приложения:
```
docker-compose up -d --build
```
​
4. Выполните миграции
```
docker-compose exec web python manage.py migrate
```

5. Для доступа к админке создайте суперюзера:
```
docker-compose exec web python manage.py createsuperuser 
```
​​
6. Соберите статику:
```
docker-compose exec web python manage.py collectstatic --no-input 
```


## Документация и примеры запросов к API
Запустив проект, вы сможете ознакомиться с детальной документацией по YaMDb, представленной в формате Redoc, по адресу:
<http://127.0.0.1:8000/redoc/>
